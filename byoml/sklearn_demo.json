{"sensors":[{"label":"anomalyCount","name":"scriptSensor","version":"0.0.9","dataTrigger":false,"tickTrigger":false,"position":[786,725],"sequence":1,"properties":{"script":"const predictions = options.rawData['byomlPredict_1'].predictions\nconst value = {\n  observedState: \"done\",\n  rawData: {\n    count: predictions.reduce((n, x) => n + (x === -1), 0)\n  }\n};\n\nsend(null, value);"}},{"label":"byomlPredict_1","name":"byomlPredict","version":"1.0.2","dataTrigger":false,"tickTrigger":false,"position":[632,726],"sequence":1,"properties":{"modelName":"outlier-detection","instances":"dataTransform.instances"}},{"label":"dataTransform","name":"scriptSensor","version":"0.0.9","dataTrigger":false,"tickTrigger":false,"position":[475,727],"sequence":1,"properties":{"script":"const temperature = options.rawData['getTemperature'].series\nconst lightAmbi = options.rawData['getLightAmbience'].series\n\nconst temperatureValues = temperature.map(x => x[1])\nconst lightAmbiValues = lightAmbi.map(x => x[1])\n\nzipped = temperatureValues.map((e, i) =>[e, lightAmbiValues[i]]);\n\nconst value = {\n  observedState: \"done\",\n  rawData: {\n    instances: zipped\n  }\n};\n\nsend(null, value);"}},{"label":"getLightAmbience","name":"timeSeriesSensor","version":"1.2.1","dataTrigger":false,"tickTrigger":false,"position":[301,727],"sequence":1,"properties":{"grouping":"PT1H","aggregate":"median","to":"P2M","resource":"151CF","metric":"lightAmbi","from":"P2M1D"}},{"label":"getTemperature","name":"timeSeriesSensor","version":"1.2.1","dataTrigger":false,"tickTrigger":true,"position":[116,726],"sequence":1,"properties":{"grouping":"PT1H","aggregate":"median","to":"P2M","resource":"151CF","metric":"temperature","from":"P2M1D"}}],"actuators":[{"label":"debugDialog_2","name":"debugDialog","version":"1.0.4","position":[954,722],"properties":{"message":"{{ anomalyCount.count }} anomalies of {{ byomlPredict_1.predictions.length }} provided datapoints"}},{"label":"debugDialog_1","name":"debugDialog","version":"1.0.4","position":[791,887],"properties":{"message":"{{ byomlPredict_1.predictions }}"}}],"relations":[],"triggers":[{"destinationLabel":"debugDialog_2","sourceLabel":"anomalyCount","invocationPolicy":0,"statesTrigger":["done"]},{"destinationLabel":"debugDialog_1","sourceLabel":"byomlPredict_1","invocationPolicy":0,"statesTrigger":["Predicted"]},{"destinationLabel":"anomalyCount","sourceLabel":"byomlPredict_1","stateChangeTrigger":{"stateFrom":"","stateTo":""}},{"destinationLabel":"byomlPredict_1","sourceLabel":"dataTransform","statesTrigger":["done"]},{"destinationLabel":"dataTransform","sourceLabel":"getLightAmbience","statesTrigger":["Collected"]},{"destinationLabel":"getLightAmbience","sourceLabel":"getTemperature","statesTrigger":["Collected"]}],"name":"sklearn-demo"}